<!DOCTYPE html>
<html lang="is">
  <head>
    <meta charset="utf-8" />
    <title>Branch</title>
  </head>
  <body>
    <canvas width="1400" height="1400"></canvas>
    <script>
      document.body.style.backgroundColor = grad;

      const cx = document.querySelector("canvas").getContext("2d");

      var grad = cx.createLinearGradient(0.3, 0, 0.9, 0);
      grad.addColorStop("0", "orange");
      grad.addColorStop("0.5", "blue");
      grad.addColorStop("1.0", "green");
      cx.fillStyle = grad;
      cx.lineWidth = 20;
      cx.shadowColor = "purple";
      cx.shadowOffsetX = 0;
      cx.shadowOffsetY = 0;
      cx.shadowBlur = 2;

      document.body.style.backgroundColor = "gray";

      function branch(length, angle, scale) {
        cx.fillRect(0, 0, 1, length);
        if (length < 9) return;
        cx.save();
        cx.translate(0, length);
        cx.rotate(-angle);
        branch(length * scale, angle, scale);
        cx.rotate(2 * angle);
        branch(length * scale, angle, scale);
        cx.restore();
      }

      cx.translate(500, 0);

      branch(200, 0.6, 0.8);
    </script>
  </body>
</html>
